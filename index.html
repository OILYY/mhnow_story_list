<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MHNow_story_list</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Kaisei+Opti&display=swap">
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" href="./index.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
  $(function() {
    /* Quest Type */
    const emg = 'Urgent';
    const matl = 'Collection';
    const hunt = 'Defeat';
    /* List of Chapters */
    const chapters = [
      'Prologue 1: The First Hunt',
      'Prologue 2: Aiming for Pro',
      'Prologue 3: The Secret to Strength',
      'Prologue 4: Reviewing the Basics',
      'Prologue 5: Apprenticeship Training',
      'Prologue 6: The Final Test',
      'Chapter 1: Beyond the Dust Clouds',
      'Chapter 2: Shimmering Swamp',
      'Chapter 3: Lurker of the Forest',
      'Chapter 4: To Catch a Thief',
      'Chapter 5: A Fluffy Suspect',
      'Chapter 6: The Gluttonous Mastermind',
      'Chapter 7: Owner of the Footprints',
      'Chapter 8: Raging Flames',
      'Chapter 9: Bright Lights and Beasts',
      'Chapter 10: Glacial Gales',
      'Chapter 11: The Looming Threat',
      'Chapter 12: The Rumbling Heavens',
      'Chapter 13: Sunderer of the Skies'
    ];
    /* List of Quests */
    const quests = [
      /* The First Hunt */
      [
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 3 },
        { seq: 1, type: hunt, target: 'Slay Great Jagras', cnt: 1 }
      ],
      /* Aiming for Pro */
      [
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 3 },
        { seq: 1, type: emg, target: 'Slay Kulu-Ya-Ku (★)', cnt: 1 }
      ],
      /* The Secret to Strength */
      [
        { seq: 0, type: matl, target: 'Upgrade Equipment - Weapon', cnt: 1 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 3 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 3 },
        { seq: 1, type: emg, target: 'Slay Pukei-Pukei (★)', cnt: 1 }
      ],
      /* Reviewing the Basics */
      [
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 3 },
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 1 },
        { seq: 1, type: hunt, target: 'Slay monster with Jagras Sword and Shield', cnt: 1 },
        { seq: 1, type: hunt, target: 'Slay Large Monster', cnt: 1 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 3 },
        { seq: 2, type: hunt, target: 'Slay monster with Kulu Head Armor', cnt: 1 },
        { seq: 2, type: hunt, target: 'Slay Large Monster', cnt: 3 },
        { seq: 2, type: matl, target: 'Gather items at gathering point', cnt: 3 },
        { seq: 3, type: emg, target: 'Slay Barroth (★)', cnt: 1 }
      ],
      /* Apprenticeship Training */
      [
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 1 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 3 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 3 },
        { seq: 1, type: hunt, target: 'Slay Large Monster', cnt: 2 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 3 },
        { seq: 2, type: hunt, target: 'Slay Large Monster', cnt: 3 },
        { seq: 2, type: hunt, target: 'Slay monster', cnt: 5 },
        { seq: 2, type: matl, target: 'Gather items at gathering point', cnt: 5 }
      ],
      /* The Final Test */
      [
        { seq: 0, type: emg, target: 'Slay Great Jagras (★)', cnt: 1 }
      ],
      /* Beyond the Dust Clouds */
      [
        { seq: 0, type: hunt, target: 'Use Special Skill', cnt: 1 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 5 },
        { seq: 2, type: emg, target: 'Slay Kulu-Ya-Ku (★★)', cnt: 1 }
      ],
      /* Shimmering Swamp */
      [
        { seq: 0, type: hunt, target: 'Slay Small Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 1, type: hunt, target: 'Slay monster with Great Sword', cnt: 1 },
        { seq: 1, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 2, type: emg, target: 'Slay Great Girros (★★)', cnt: 1 }
      ],
      /* Lurker of the Forest */
      [
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 1, type: emg, target: 'Slay Kulu-Ya-Ku (★★)', cnt: 1 },
        { seq: 2, type: hunt, target: 'Slay Great Jagras', cnt: 2 },
        { seq: 2, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 3, type: emg, target: 'Slay Pukei-Pukei (★★)', cnt: 1 }
      ],
      /* To Catch a Thief */
      [
        { seq: 0, type: matl, target: 'Gather Unique Mushroom from Vegetation', cnt: 10 },
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 1, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 1, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 2, type: hunt, target: 'Slay Pukei-Pukei', cnt: 2 },
        { seq: 2, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 2, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 3, type: emg, target: 'Slay Tobi-Kadachi (★★)', cnt: 1 }
      ],
      /* A Fluffy Suspect */
      [
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 1, type: emg, target: 'Slay Kulu-Ya-Ku', cnt: 3 },
        { seq: 2, type: hunt, target: 'Slay monster in Desert', cnt: 5 },
        { seq: 2, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 3, type: matl, target: 'Obtain Felyne Food from gathering points', cnt: 10 },
        { seq: 3, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 3, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 4, type: emg, target: 'Slay Paolumu (★★★)', cnt: 1 }
      ],
      /* The Gluttonous Mastermind */
      [
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 1, type: hunt, target: 'Slay monster in Swamp', cnt: 5 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 2, type: emg, target: 'Slay Barroth (★★★)', cnt: 1 },
        { seq: 3, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 3, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 3, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 4, type: emg, target: 'Slay Jyuratodus (★★★)', cnt: 1 }
      ],
      /* Owner of the Footprints */
      [
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 1, type: hunt, target: 'Slay Great Girros', cnt: 2 },
        { seq: 1, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 2, type: emg, target: 'Slay Pukei-Pukei (★★★★)', cnt: 1 },
        { seq: 3, type: matl, target: 'Gather Odd Monster Tracks from mining outcrops', cnt: 10 },
        { seq: 3, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 3, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 4, type: emg, target: 'Slay Barroth (★★★★)', cnt: 1 }
      ],
      /* Raging Flames */
      [
        { seq: 0, type: hunt, target: 'Slay monster in Forest', cnt: 5 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 1, type: hunt, target: 'Slay Tobi-Kadachi', cnt: 2 },
        { seq: 1, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 2, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 2, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 3, type: emg, target: 'Slay Anjanath (★★★★)', cnt: 1 }
      ],
      /* Bright Lights and Beasts */
      [
        { seq: 0, type: hunt, target: 'Slay monster in Desert', cnt: 5 },
        { seq: 0, type: matl, target: 'Slay Large Monster', cnt: 5 },
        { seq: 1, type: emg, target: 'Slay Kulu-Ya-Ku (★★★★)', cnt: 2 },
        { seq: 2, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 2, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 3, type: emg, target: 'Slay Rathian (★★★★)', cnt: 1 }
      ],
      /* Glacial Gales */
      [
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 1, type: emg, target: 'Slay Paolumu (★★★★★)', cnt: 1 },
        { seq: 2, type: hunt, target: 'Slay Anjanath', cnt: 2 },
        { seq: 2, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 2, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 3, type: matl, target: 'Obtain Scale-Like Object from gathering points', cnt: 10 },
        { seq: 3, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 3, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 4, type: emg, target: 'Slay Legiana (★★★★★)', cnt: 1 }
      ],
      /* The Looming Threat */
      [
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 1, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 1, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 2, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 2, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 2, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 3, type: hunt, target: 'Slay Rathian', cnt: 2 },
        { seq: 3, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 4, type: emg, target: 'Slay Diablos (★★★★★)', cnt: 1 }
      ],
      /* The Rumbling Heavens */
      [
        { seq: 0, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 0, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 0, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 1, type: hunt, target: 'Slay Legiana', cnt: 2 },
        { seq: 1, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 1, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 2, type: hunt, target: 'Slay monster in Forest', cnt: 5 },
        { seq: 2, type: matl, target: 'Gather items at gathering point', cnt: 10 },
        { seq: 3, type: hunt, target: 'Slay Large Monster', cnt: 5 },
        { seq: 3, type: hunt, target: 'Slay monster', cnt: 10 },
        { seq: 3, type: matl, target: 'Gather items at gathering point', cnt: 10 }
      ],
      /* Sunderer of the Skies */
      [
        { seq: 0, type: emg, target: 'Slay Rathalos (★★★★★)', cnt: 1 }
      ]
    ];
    // Generate HTML from Object
    for (let chapter_idx = 0; chapter_idx < chapters.length; ++chapter_idx ) {
      // Add Chapter Headings
      const $title = $('<h3 />').append(`Chapter-${chapter_idx + 1}：${chapters[chapter_idx]}`);
      $('#accordion').append($title);

      // Added Quest List Base
      const $chapter_list = $('<div />', {class: 'chapter-list'});
      $('#accordion').append($chapter_list);

      // Get a List of Chapter Quests
      const quest_list = quests[chapter_idx];
      console.log(quest_list);

      for (let quest_idx = 0, $quest_item = null; quest_idx < quest_list.length; ++quest_idx) {
        // Add the HTML that Includes the Quest at the Beginning of the Quest List or at the Seq Change
        if (quest_idx === 0 || quest_list[quest_idx].seq != quest_list[quest_idx - 1].seq) {
          const $chapter_quest = $('<div />', {class: 'chapter-quest'});
          $chapter_quest.append($('<div />', {class: 'quest-seq'}).append(`${quest_list[quest_idx].seq + 1}`));
          $quest_item = $('<div />', {class: 'quest-item'});
          $chapter_quest.append($quest_item);
          $chapter_list.append($chapter_quest);
        }

        if ($quest_item) {
          const $quest_summary = $('<div />', {class: 'quest-summary'});
          const $quest_type = $('<div />', {class: 'quest-type'}).append(`${quest_list[quest_idx].type}`);
          switch (quest_list[quest_idx].type) {
            case emg:
              $quest_type.addClass('quest-emg');
              break;
            case hunt:
              $quest_type.addClass('quest-hunt');
              break;
            case matl:
              $quest_type.addClass('quest-matl');
              break;
          }
          $quest_summary.append($quest_type);
          $quest_summary.append($('<div />', {class: 'quest-content'}).append(`${quest_list[quest_idx].target}`));
          const cnt_disp = (quest_list[quest_idx].cnt <= 1) ? '' : `✕${quest_list[quest_idx].cnt}`
          $quest_summary.append($('<div />', { class: 'quest-cnt' }).append(cnt_disp));
          $quest_item.append($quest_summary);
        }
      }
    }
    // Initializing the Accordion
    $('#accordion').accordion({
      heightStyle: 'content'
    });
  });
  </script>
</head>
<body>
  <h1>MHNow : Story</h1>
  <div id="accordion">
  </div>
</body>
</html>
